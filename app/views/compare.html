
<h2>Comparitive Viewer</h2>

<div ng-show="models.length == 0">
    <div class="text-danger">No Models Selected</div>
    Select (add) models from the models page.
</div>

<ul ng-show="models.length" class="nav nav-tabs">
    <li ng-class="{active: tab == 'Selected'}" ng-click="tab = 'Selected'">
        <a><span class="badge">{{MV.models.length}}</span> Selected Models</a>
    </li>
    <li ng-class="{active: tab == 'Heatmap'}" ng-click="tab = 'Heatmap'">
        <a>Heatmap</a>
    </li>
    <li ng-class="{active: tab == 'Pathways'}" ng-click="tab = 'Pathways'">
        <a>Pathways</a>
    </li>
</ul>

<div ng-show="tab == 'Selected'">
    <table ng-show="models.length" class="table selected-models">
        <thead>
            <tr>
                <th>ID</th>
                <!--<th>Organism</th>
                <th>Rxns</th>
                <th>Cpds</th>-->
                <th>FBA</th>
                <th>Remove</th>
            </tr>
        </thead>

        <tbody>
            <tr ng-repeat="model in MV.models track by $index">
                <td><a ui-sref="modelPage({ws: '{{model.workspace}}', name: '{{model.name}}' })">{{model.name}}</a></td>
                <td ws="{{model.workspace}}" name="{{model.name}}">
                    <select class="form-control"
                            ng-model="selectedFBAs[$index]"
                            ng-change="updateViews()"
                            ng-options="item.name for item in relatedFBAs[$index]"
                            ng-init="selectedFBAs[$index] = relatedFBAs[$index][0]">
                    </select>
                </td>

                <td><span ng-click="MV.rm($index); updateViews();" class="fa fa-remove btn-rm-model hover pointer"></span></td>

            </tr>
        </tbody>

    </table>
</div>


<div ng-show="tab == 'Heatmap'">
    <div compare></div>

    <div legend></div>
    <div ng-if="models.length">
        <b>Tips:</b> Use the mouse wheel while on the heatmap to zoom. Click and drag to pan<br>
    </div>
</div>

<div ng-show="tab == 'Pathways'">
    <div pathways></div>
</div>